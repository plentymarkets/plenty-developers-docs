= Webhook Subscriptions

Using the webhook subscription feature, you can effortlessly define and set up webhook endpoints to listen for specific predefined events across your application. The range of events is dynamic and can include anything based on demand. Currently, the list includes the most critical events.

You can access Webhook Subscription Settings under *Setup* » *Settings* » *Webhooks*.

== Subscription Overview

The *Setup* » *Settings* » *Webhooks* menu is structures as follows:

image::webhook_overview.png[widht=640]

* *Navigation*: Here you can create new subscriptions or open up subscriptions that are selected in the main window. Click on the menu icon to expand or collapse the navigation bar.
* *Toolbar*: Here you can search for webhook subscriptions, apply specific filters, configure the results per page and also test the active subscriptions.
* *Main window*: In the main window you find all webhook subscriptions and their endpoint, description and if they are active or not. Via More (more_vert) in the main window you can delete them.

== Creating a subscription

Open the menu *Setup* » *Settings* » *Webhooks*.
Click on New Subscription.
The new subscription detail view is opened.
Enter a name under Endpoint.
Enter a description of the new subscription under *Subscription*.
Select a client for the subscription under *WebStores*.
Choose any amount of event you want to subscribe to under *Subscribed events*.
*Save* your new subscription.

[WARNING]
====
After saving a popup appears with the sign key of the subscription. Make sure to copy the sign key, because you won’t have access to it afterwards. In case you lose your subscription sign key you have to reset it.
====

A sign key is generated automatically when you create the subscription.


image::webhook_conf.png[widht=640]


[NOTE]
====
You can use the sign key programmatically to secure events that are incoming in your webhook receiver. The Sign key is included in each payload.
====


[cols="2"]
|===
|Setting |Explanation

|Endpoint
|The URL on your side, to send the event payload to when an event is triggered.

|Description
|A text field helping identify a subscription configuration.

|Web stores
|One or more web stores can be linked to a subscription. The events that are linked with a web store would only be sent for the selected webstores. (for example: orders in a specific web store)

|Subscribed events
|Select the event or multiple events that would be sent to the endpoint configured above.
|===

== Testing your endpoint
To make sure your created and/or edited subscriptions work you have the possibility to test all active subscriptions within the webhook overview. Only requirement is that you already created a subscription that is also active. Proceed as follows:

 . Open the menu *Setup* » *Settings* » *Webhooks*.
 . Click on *Test active webhooks*.

A notification pops up, informing you that a webhook test was sent.
Check your endpoint that it received the webhook call.

== Expected response
Once the webhook event is sent to your endpoint, it expects a response with *200* HTTP status code. Any other code is
treated as failure.

The body of the response can be empty as it is ignored.

The timeout is set to 2 seconds. On timeout error, the request is treated as failure.

In case of failure, the webhook event
will be resent by the *retry mechanism*.

== Retry mechanism
In case of failure, our retry mechanism tries to resend the webhook event a maximum of 18 times in the course of 3
days with increasing intervals.

The schedule of the retries (the timeframe is calculated relative to the initial webhook event time):
====
1 Minute, 5 Minutes, 10 Minutes, 30 Minutes, 1 Hour, 2 Hours, 4 Hours, 8 Hours, 12 Hours, 16 Hours, 20 Hours, 24 Hours, 32 Hours, 40 Hours, 48 Hours, 56 Hours, 64 Hours, 72 Hours
====

== Troubleshooting
* *Verify Endpoint Configuration:*
Ensure that your webhook endpoint URL is correctly configured and accessible from
the internet. Mistyped URLs or
firewall restrictions can lead to missed webhook deliveries.

* *Signature Verification:*
If you’re having trouble verifying webhook signatures, double-check your implementation against our documentation. Mismatched signatures can indicate tampering or configuration issues.

* *Payload Parsing:*
Check your payload parsing logic to confirm it correctly extracts data from incoming JSON payloads. Errors in parsing can lead to missing or misinterpreted information.

* *Response Handling:*
Review how your application responds to webhook events. Code 200 means success, every other code will be treated as failure.

* *Server Availability:*
Check the uptime and availability of your server. Frequent downtime can result in missed webhook deliveries. The timeout

* *Error Logs:*
Investigate any error logs or notifications generated by your webhook endpoint. These can provide insights into issues that need attention.

* *Network Issues:*
Network problems can disrupt webhook deliveries. Ensure that your server’s network connection is stable and reliable.

* *Security Policies:*
If your server has strict security policies, make sure they aren’t blocking incoming webhook requests. Adjust security settings if necessary.

* *Subscription Configuration:*
If you’re not receiving expected webhook events, check your subscription configuration. Ensure that you’ve subscribed to the correct event types and that your subscriptions are active.

* *Contact Support:*
If you’ve exhausted your troubleshooting efforts, don’t hesitate to reach out to our support team in the respective forum category. They can provide personalised assistance and guidance.
